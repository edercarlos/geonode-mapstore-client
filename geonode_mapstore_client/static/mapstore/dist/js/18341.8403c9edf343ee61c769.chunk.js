(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[18341],{247361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(675263),o=r.n(n),i=r(667294),a=r.n(i),c=r(414293),u=r.n(c),l=r(837101);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(o){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return g(this,e)});function c(){return f(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.context.intl?a().createElement(l.FormattedNumber,p({value:this.props.value},this.props.numberParams)):a().createElement("span",null,!u()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a().Component);v(m,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),v(m,"contextTypes",{intl:o().object});const h=m},262770:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(667294),o=r.n(n),i=r(675263),a=r.n(i),c=r(441609),u=r.n(c),l=r(281763),s=r.n(l),p=r(490079);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(c,e);var t,r,n,i,a=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(n);if(i){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),h(v(t=a.call(this,e)),"state",{containerWidth:0,legendContainerStyle:{overflowX:"auto"}}),h(v(t),"canShow",(function(e){return e.visibility||!t.props.showOnlyIfVisible})),h(v(t),"useLegendOptions",(function(){return!u()(t.props.node.legendOptions)&&s()(t.props.node.legendOptions.legendHeight)&&s()(t.props.node.legendOptions.legendWidth)})),h(v(t),"setOverflow",(function(){return t.useLegendOptions()&&t.props.node.legendOptions.legendWidth>t.state.containerWidth})),t.containerRef=o().createRef(),t}return t=c,r=[{key:"componentDidMount",value:function(){var e=this.containerRef.current&&this.containerRef.current.clientWidth;this.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({containerWidth:e},this.state))}},{key:"render",value:function(){var e=this.props.node||{},t=this.canShow(e)&&"wms"===e.type&&"background"!==e.group,r=t&&this.useLegendOptions();return t?o().createElement("div",{style:this.setOverflow()?this.state.legendContainerStyle:this.props.legendContainerStyle,ref:this.containerRef},o().createElement(p.Z,{style:this.setOverflow()?{}:this.props.legendStyle,layer:e,currentZoomLvl:this.props.currentZoomLvl,scales:this.props.scales,legendHeight:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendHeight||this.props.legendHeight||void 0,legendWidth:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendWidth||this.props.legendWidth||void 0,legendOptions:this.props.WMSLegendOptions,scaleDependent:this.props.scaleDependent,language:this.props.language})):null}}],r&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o().Component);h(O,"propTypes",{node:a().object,legendContainerStyle:a().object,legendStyle:a().object,showOnlyIfVisible:a().bool,currentZoomLvl:a().number,scales:a().array,WMSLegendOptions:a().string,scaleDependent:a().bool,language:a().string,legendWidth:a().number,legendHeight:a().number}),h(O,"defaultProps",{legendContainerStyle:{},showOnlyIfVisible:!1,scaleDependent:!0});const w=O},490079:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(608575),o=r(701469),i=r.n(o),a=r(727418),c=r.n(a),u=r(675263),l=r.n(u),s=r(667294),p=r.n(s),f=r(233044),d=r(805346);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,r,o,a,u=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(a){var r=O(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function l(){var e;g(this,l);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return w(h(e=u.call.apply(u,[this].concat(r))),"state",{error:!1}),w(h(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),w(h(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var r=e.layer,o=t||i()(r.url)&&Math.floor(Math.random()*r.url.length),a=i()(r.url)?r.url[o]:r.url.replace(/[?].*$/g,""),u=n.parse(a),l=(0,f.clearNilValuesForParams)(r.params),s=c()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},r.legendParams||{},e.language&&r.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,f.addAuthenticationToSLD)(l||{},e.layer),l&&l.SLD_BODY?{SLD_BODY:l.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,f.addAuthenticationParameter)(a,s),n.format({host:u.host,protocol:u.protocol,pathname:u.pathname,query:s})}return""})),w(h(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=l,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?p().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):p().createElement(d.Z,{msgId:"layerProperties.legenderror"})}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(p().Component);w(j,"propTypes",{layer:l().object,legendHeight:l().number,legendWidth:l().number,legendOptions:l().string,style:l().object,currentZoomLvl:l().number,scales:l().array,scaleDependent:l().bool,language:l().string}),w(j,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const P=j},828315:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(667294),o=r.n(n),i=r(443143),a=r(12226),c=r(82110),u=["base","range"],l=["onInitialized"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var y=o().lazy((function(){return Promise.all([r.e(47042),r.e(36111)]).then(r.bind(r,736111))})),g={base:190,range:0,s:.95,v:.63},b=function(e,t){var r=t.base,n=t.range,o=d(t,u);return((0,i.qH)(r,n,e+1,o)||[0]).slice(1)};function v(e){var t=e.type,r=e.isModeBarVisible;return"pie"===t?{t:r?20:5,b:5,l:2,r:2,pad:4}:{l:5,r:5,b:30,t:r?20:5,pad:4}}function m(e){var t=e.series,r=void 0===t?[]:t,n=e.cartesian,o=e.type,i=e.yAxis,a=e.xAxisAngle,c=e.xAxisOpts,u=void 0===c?{}:c,l=e.yAxisOpts,s=void 0===l?{}:l,p=e.data,f=void 0===p?[]:p,d=e.autoColorOptions,y=void 0===d?g:d;return"pie"===o?{colorway:b(f.length,y)}:{colorway:b(r.length,y),yaxis:{type:null==s?void 0:s.type,automargin:!0,tickformat:null==s?void 0:s.format,tickprefix:null==s?void 0:s.tickPrefix,ticksuffix:null==s?void 0:s.tickSuffix,showticklabels:!0===i,showgrid:n},xaxis:{showgrid:n,type:null==u?void 0:u.type,showticklabels:!(null!=u&&u.hide),nticks:u.nTicks,automargin:!0,tickangle:null!=a?a:"auto"}}}const h=function(e){var t=e.onInitialized,r=function(e){var t=e.xAxis,r=e.series,n=void 0===r?[]:r,o=e.yAxisLabel,i=e.type,c=void 0===i?"line":i,u=e.height,l=e.width,s=e.legend,f=null==t?void 0:t.dataKey,d=l>350;return{layout:p(p(p({showlegend:s},m(p({},e))),{},{margin:v(p(p({},e),{},{isModeBarVisible:d})),autosize:!1,height:u,width:l},"pie"===c&&d&&{legend:{x:1.05,y:.5}}),{},{hovermode:"x unified"}),data:n.map((function(t){var r=t.dataKey;return p({type:c,name:o||r},function(e){var t,r,n,o=e.type,i=e.xDataKey,c=e.yDataKey,u=e.data,l=e.formula,s=e.yAxisOpts,p=u.map((function(e){return e[i]})),f=u.map((function(e){return e[c]}));return"pie"===o?{textposition:"inside",values:f,labels:p}:(l&&(f=f.map((function(e){var t=e;try{return(0,a.B)(l,{value:t})}catch(t){return e}}))),{hovertemplate:"".concat(null!==(t=null==s?void 0:s.tickPrefix)&&void 0!==t?t:"","%{y:").concat(null!==(r=null==s?void 0:s.format)&&void 0!==r?r:"d","}").concat(null!==(n=null==s?void 0:s.tickSuffix)&&void 0!==n?n:"","<extra></extra>"),x:p,y:f})}(p(p({},e),{},{xDataKey:f,yDataKey:r})))})),config:{displayModeBar:d,modeBarButtonsToRemove:["lasso2d","select2d","hoverCompareCartesian","hoverClosestCartesian","hoverClosestPie"],displaylogo:!1}}}(d(e,l)),i=r.data,u=r.layout,s=r.config;return o().createElement(n.Suspense,{fallback:o().createElement(c.Z,null)},o().createElement(y,{onInitialized:t,data:i,layout:u,config:s}))}},507848:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(533664),o=r(22222),i=r(93152);const a=(0,n.connect)((0,o.P1)(i.$v,(function(e){return{mapType:e}})))},819983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(667294),o=r.n(n),i=r(675263),a=r.n(i),c=r(552259);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return function(t){var r,i,a,u,s,p,f,d=(null==t||null===(r=t.map)||void 0===r?void 0:r.projection)||"EPSG:3857",y=(null==t||null===(i=t.map)||void 0===i||null===(a=i.mapOptions)||void 0===a||null===(u=a.view)||void 0===u?void 0:u.DPI)||null,g=null==t||null===(s=t.map)||void 0===s||null===(p=s.mapOptions)||void 0===p||null===(f=p.view)||void 0===f?void 0:f.scales,b=(0,n.useMemo)((function(){return g?(0,c.getResolutionsForScales)(g,d,y):null}),[g,d,y]),v=b?l(l({},t),{},{map:l(l({},t.map),{},{mapOptions:l(l({},t.map.mapOptions),{},{view:l(l({},t.map.mapOptions.view),{},{resolutions:b})})})}):t;return o().createElement(e,v)}};p.propTypes={Component:a().element};const f=p},975480:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(667294),o=r.n(n);const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:r,className:"mapstore-inline-loader"})}},212610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(667294),o=r.n(n),i=r(418093),a=r(957557),c=r.n(a),u=r(815135);const l=(0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),u.Z,(function(e){return function(t){return o().createElement(e,c()(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},617252:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(667294),o=r.n(n),i=r(418093),a=r(675263),c=r.n(a),u=r(957557),l=r.n(u),s=r(757588),p=r(950966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=(0,i.branch)((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(f,t);var r,n,a,c,u=(a=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(a);if(c){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function f(){return d(this,f),u.apply(this,arguments)}return r=f,(n=[{key:"renderPopover",value:function(){return o().createElement(s.Popover,l()(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=(0,i.toClass)(e);return o().createElement(t,l()(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o().createElement("span",null,o().createElement(p.Z,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),f}(o().Component),m(t,"propTypes",{popover:c().object}),m(t,"defaultProps",{popover:{trigger:!0}}),r}))},273849:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(418093),o=r(828878),i=r(989255);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=(0,n.mapPropsStreamWithConfig)(o.Z);const s=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return i.Observable.of({})}}),l((function(e){return e.take(1).switchMap((function(t){return t.dataStreamFactory(e.startWith(t),t)})).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(c({},t),e)}))})))},80717:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(667294),o=r.n(n),i=r(819081),a=r.n(i),c=r(757588),u=r(90085),l=["visible","Element","renderButton"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,n=e.btnGroupProps,i=void 0===n?{}:n,f=e.btnDefaultProps,d=void 0===f?{}:f,y=e.transitionProps,g=void 0===y?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:y,b=function(){return r.map((function(e,t){var r=e.visible,n=void 0===r||r,i=e.Element,a=e.renderButton,c=p(e,l);return n?a||i&&o().createElement(i,s({key:c.key||t},c))||o().createElement(u.Z,s({key:c.key||t},d,c)):null}))};return o().createElement(c.ButtonGroup,i,g?o().createElement(a(),g,b()):b())}},90085:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(667294),o=r.n(n),i=r(418093),a=r(805346),c=r(957557),u=r.n(c),l=r(757588),s=r(532425),p=r(212610),f=r(617252),d=r(282467),y=["glyph","loading","text","textId","glyphClassName","loaderProps","children"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const v=(0,i.compose)(p.Z,f.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,n=e.text,i=void 0===n?"":n,c=e.textId,p=e.glyphClassName,f=void 0===p?"":p,v=e.loaderProps,m=void 0===v?{}:v,h=e.children,O=b(e,y);return o().createElement(d.Z,u()(O,["pullRight","confirmNo","confirmYes"]),t&&!r?o().createElement(l.Glyphicon,{glyph:t,className:f}):null,c?o().createElement(a.Z,{msgId:c}):i,r?o().createElement(s.Z,g({className:"ms-loader".concat(O.bsStyle&&" ms-loader-"+O.bsStyle||"").concat(O.bsSize&&" ms-loader-"+O.bsSize||"")},m)):null,h)}))},12425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(418093).withState)("confirmDelete","toggleDeleteConfirm",!1)},630881:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r(313311),o=r.n(n),i=r(441609),a=r.n(i),c=r(418093),u=r(986267),l=r(47805),s=r(189291),p=r(102245),f=r.n(p),d=r(689737),y=r(670956);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e,t){var r=(0,y.Z5)(e,t),n=o()(Object.keys(r||{}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cql_filter"===e.toLowerCase()}));return r&&n&&r[n]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerFilter;return t};const j=(0,c.compose)((0,c.withPropsOnChange)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.geomProp,n=e.dependencies,o=void 0===n?{}:n,i=e.layer,a=e.quickFilters,c=e.options,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;return t!==u.mapSync||o.viewport!==(u.dependencies&&u.dependencies.viewport)||o.quickFilters!==(u.dependencies&&u.dependencies.quickFilters)||o.options!==(u.dependencies&&u.dependencies.options)||r!==u.geomProp||l!==u.filter||c!==u.options||a!==u.quickFilters||O(i,o)!==O(u.layer,u.dependencies)||w(i)!==w(u.layer)}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.geomProp,n=void 0===r?"the_geom":r,o=e.dependencies,i=void 0===o?{}:o,c=e.filter,p=e.layer,g=e.quickFilters,h=e.options,w=i.viewport,j=f()({gmlVersion:"3.1.1"}),P=(0,d.Z)(j),S=j.filter,A=j.property,E=j.and,D=p||{},Z=D.layerFilter,I={},x={},C=(0,y.r$)(c,g,h);if(!t)return{filter:!a()(C)||Z?S(E.apply(void 0,m(Z&&!Z.disabled?(0,l.toOGCFilterParts)(Z,"1.1.0","ogc"):[]).concat(m(C?(0,l.toOGCFilterParts)(C,"1.1.0","ogc"):[])))):void 0};if(p&&i&&i.quickFilters&&i.layer&&p.name===i.layer.name&&(C=b(b({},C),(0,y.r$)(C,i.quickFilters,i.options))),p&&i&&i.filter&&i.layer&&p.name===i.layer.name&&(C=b(b({},C),(0,l.composeAttributeFilters)([C,i.filter]))),i.viewport){var k=Object.keys(w.bounds).reduce((function(e,t){return b(b({},e),{},v({},t,parseFloat(w.bounds[t])))}),{});I=(0,u.getViewportGeometry)(k,w.crs);var T=O(p,i);return x=T?[P((0,s.read)(T))]:[],{filter:S(E.apply(void 0,m(x).concat(m(Z&&!Z.disabled?(0,l.toOGCFilterParts)(Z,"1.1.0","ogc"):[]),m(C?(0,l.toOGCFilterParts)(C,"1.1.0","ogc"):[]),[A(n).intersects(I)])))}}return{filter:S(E.apply(void 0,m(Z?(0,l.toOGCFilterParts)(Z,"1.1.0","ogc"):[]).concat(m(C?(0,l.toOGCFilterParts)(C,"1.1.0","ogc"):[]))))}})))},908488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(418093),o=r(670956),i=r(313311),a=r.n(i);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=(0,n.compose)((0,n.withPropsOnChange)(["dependencies","options"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dependencies,r=void 0===t?{}:t,n=e.options,i=e.layer,c=void 0===i?{}:i,l=(0,o.Z5)(c,r),s=a()(Object.keys(l||{}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"viewparams"===e.toLowerCase()})),p=l&&s&&l[s];return{options:p?u(u({},n),{},{viewParams:p}):n}})))},873339:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(418093),o=r(478718),i=r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function e(t,r,n){return t?Object.keys(t).reduce((function(o,a){return"dependenciesMap"===a&&r[t[a]]&&r[t.mapSync]&&r[t[a]][a]&&-1===r[t[a]][a].indexOf(n)&&!o.mapSync?c(c({},o),i()(e(r[t[a]],r,n),["options","layer","quickFilters","filter","dependenciesMap"])):c(c({},o),{},u({},a,r[t[a]]))}),{}):r};const s=(0,n.withProps)((function(e){var t=e.dependenciesMap,r=e.dependencies,n=e.id;return{dependencies:t?l(t,r,n):r,dependenciesMap:t}}))},639837:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(982030),o=r(599707);const i=(0,n.Z)((function(e){var t=e.data,r=void 0===t?[]:t;return!r||0===r.length}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.iconFit;return{iconFit:r,messageId:t?"widgets.errors.nodatainviewport":"widgets.errors.nodata",glyph:"stats"}}),o.Z)},946173:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(667294),o=r.n(n),i=r(982030),a=r(805346);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.Z)((function(e){var t=e.layers;return 0===(void 0===t?[]:t).length}),(c(e={},t?"tooltip":"title",o().createElement(a.Z,{msgId:"widgets.errors.noLegend"})),c(e,"description",!t&&o().createElement(a.Z,{msgId:"widgets.errors.noLegendDescription"})),e))}},342415:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(667294),o=r.n(n),i=r(805346),a=r(982030),c=r(599707),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ECONNABORTED"===e.code?o().createElement(i.Z,{msgId:"widgets.errors.timeoutExpired"}):e.message?o().createElement(i.Z,{msgId:"widgets.errors.genericErrorWithMessage",msgParams:{message:e.message}}):o().createElement(i.Z,{msgId:"widgets.errors.genericError"})};const l=(0,a.Z)((function(e){return!!e.error}),(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.error,i=r.layer,a=-1!==(null==n||null===(e=n.message)||void 0===e?void 0:e.indexOf("Could not locate"))?o().createElement(c.Z,{glyph:"stats",messageId:"widgets.errors.layerNotAvailable",msgParams:{layerName:null==i?void 0:i.name}}):u(n);return{glyph:-1!==(null==n||null===(t=n.message)||void 0===t?void 0:t.indexOf("Could not locate"))?null:"warning-sign",iconFit:!1,content:a}}))},213314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(418093),o=r(227361),i=r.n(o),a=r(12425),c=r(839860),u=r(552259);const l=(0,n.compose)((0,n.withProps)((function(e){var t=e.dependencies,r=void 0===t?{}:t,n=e.dependenciesMap;return{layers:r[(void 0===n?{}:n).layers]||r.layers||[],scales:(0,u.getScales)(r.projection||r.viewport&&r.viewport.crs||"EPSG:3857",i()(r,"mapOptions.view.DPI")),currentZoomLvl:r.zoom}})),(0,n.withProps)((function(e){var t=e.layers;return{layers:(void 0===t?[]:t).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"background"!==e.group&&!1!==e.visibility&&"vector"!==e.type}))}})),a.Z,(0,c.tR)(),(0,c.E6)(),(0,c.um)())},387017:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var n=r(414293),o=r.n(n),i=r(513218),a=r.n(i),c=r(418093),u=r(989255),l=r(465633),s=r(624262),p=r(273849);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.AggregationResults,r=void 0===t?[]:t,n=e.GroupByAttributes,i=void 0===n?[]:n,c=e.AggregationAttribute,u=e.AggregationFunctions;return r.map((function(e){return d(d({},i.reduce((function(t,r,n){var i=e[n];if(a()(i)){if(o()(i.time))throw new Error("Unknown response format from server");i=new Date(i.time).toISOString()}return d(d({},t),{},y({},r,i))}),{})),{},y({},"".concat(u[0],"(").concat(c,")"),e[e.length-1]))})).sort((function(e,t){var r=parseFloat(e[i]),n=parseFloat(t[i]);return isNaN(r)||isNaN(n)?e<t?-1:e>t?1:0:r-n}))},b=function(e){return e.filter((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options;return r.name&&(0,s.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(e,t){var r=e.layer,n=void 0===r?{}:r,o=e.options,i=void 0===o?{}:o,a=e.filter;return t.layer&&n.name===t.layer.name&&n.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.aggregateFunction===t.aggregateFunction&&e.aggregationAttribute===t.aggregationAttribute&&e.groupByAttributes===t.groupByAttributes&&e.viewParams===t.viewParams}(i,t.options)&&a===t.filter})).switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options,o=e.filter,i=e.onLoad,a=void 0===i?function(){}:i,c=e.onLoadError,p=void 0===c?function(){}:c;return(0,l.Z)((0,s.ZA)(r),d(d({featureType:r.name},n),{},{filter:o}),{timeout:15e3}).map((function(e){return{loading:!1,isAnimationActive:!1,error:void 0,data:g(e),series:[{dataKey:"".concat(e.AggregationFunctions[0],"(").concat(e.AggregationAttribute,")")}],xAxis:{dataKey:e.GroupByAttributes[0]}}})).do(a).catch((function(e){return u.Observable.of({loading:!1,error:e,data:[]}).do(p)})).startWith({loading:!0})}))};const v=(0,c.compose)((0,c.withProps)((function(){return{dataStreamFactory:b}})),p.Z);var m=r(984596),h=r.n(m),O=r(189734),w=r.n(O),j=r(886850);function P(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.features,r=arguments.length>1?arguments[1]:void 0,n=r.groupByAttributes;return w()(t.map((function(e){return e.properties})),n)},E=function(e){return e.filter((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options;return r.name&&(0,s.Tt)(r)&&n&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(e,t){var r=e.layer,n=void 0===r?{}:r,o=e.options,i=void 0===o?{}:o,a=e.filter;return t.layer&&n.name===t.layer.name&&n.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.aggregateFunction===t.aggregateFunction&&e.aggregationAttribute===t.aggregationAttribute&&e.groupByAttributes===t.groupByAttributes&&e.viewParams===t.viewParams}(i,t.options)&&a===t.filter})).switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options,o=e.filter,i=e.onLoad,a=void 0===i?function(){}:i,c=e.onLoadError,l=void 0===c?function(){}:c;return(0,j.Mc)(r,o,{propertyName:[].concat(P(h()(n.aggregationAttribute)),P(h()(n.groupByAttributes)))}).map((function(e){return{loading:!1,isAnimationActive:!1,error:void 0,data:A(e,n),series:[{dataKey:n.aggregationAttribute}],xAxis:{dataKey:n.groupByAttributes}}})).do(a).catch((function(e){return u.Observable.of({loading:!1,error:e,data:[]}).do(l)})).startWith({loading:!0})}))};const D=(0,c.compose)((0,c.withProps)((function(){return{dataStreamFactory:E}})),p.Z),Z=(0,c.branch)((function(e){var t=e.options,r=void 0===t?{}:t;return!r.aggregateFunction||"None"===r.aggregateFunction}),D,v)},839860:(e,t,r)=>{"use strict";r.d(t,{E6:()=>k,tR:()=>x,AV:()=>C,G5:()=>I,um:()=>T});var n=r(418093);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=(0,n.compose)((0,n.withProps)((function(e){var t,r=e.maximized,n=void 0===r?{}:r,o=e.widgetTools,a=void 0===o?[]:o,c=e.toggleMaximize,u=void 0===c?function(){}:c,l=e.dataGrid,s=void 0===l?{}:l,p=e.toolsOptions;return{widgetTools:(void 0===p?{}:p).showMaximize?[].concat((t=a,function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:n.widget?"resize-small":"resize-full",target:"icons",tooltipId:"widgets.widget.menu.".concat(n.widget?"minimize":"maximize"),tooltipPosition:"right",visible:!s.static,onClick:function(){return u()}}]):a}})));function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=r(667294),f=r.n(p),d=r(80717),y=function(e){return"icons"===e.target},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(y).length>0},b=r(327244);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=r(757588),h=r(805346),O=r(815135);function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t=e.target,r=e.visible;return(void 0===r||r)&&"menu"===t},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(P).length>0},A=(0,O.Z)(m.MenuItem);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D=function(e){return"tools"===e.target},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(D).length>0},I=function(){return(0,n.compose)((0,n.withProps)((function(e){var t,r=e.maximized,n=void 0===r?{}:r,o=e.widgetTools,i=void 0===o?[]:o,a=e.toolsOptions,c=void 0===a?{}:a,u=e.canEdit,s=e.updateProperty,p=void 0===s?function(){}:s,f=e.hide,d=void 0!==f&&f;return{widgetTools:c.showHide?[].concat((t=i,function(e){if(Array.isArray(e))return l(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"lock",target:"menu",active:d,textId:d?"widgets.widget.menu.unhide":"widgets.widget.menu.hide",tooltipId:d?"widgets.widget.menu.unhideDescription":"widgets.widget.menu.hideDescription",visible:!n.widget&&u,onClick:function(){return p("hide",!d)}}]):i}})))},x=function(){return(0,n.withProps)((function(e){var t,r=e.widgetTools,n=void 0===r?[]:r,o=e.dataGrid,i=void 0===o?{}:o,a=e.canEdit,u=e.onEdit,l=void 0===u?function(){}:u,s=e.toggleDeleteConfirm,p=void 0===s?function(){}:s;return{widgetTools:a?[].concat((t=n,function(e){if(Array.isArray(e))return c(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pencil",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.edit",onClick:function(){return l()}},{glyph:"trash",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.delete",onClick:function(){return p(!0)}}]):n}}))},C=function(){return(0,n.withProps)((function(e){var t,r=e.widgetTools,n=void 0===r?[]:r,o=e.data,i=e.title,a=e.exportCSV,c=void 0===a?function(){}:a;return{widgetTools:[].concat((t=n,function(e){if(Array.isArray(e))return u(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"download",glyphClassName:"exportCSV",target:"menu",textId:"widgets.widget.menu.downloadData",disabled:!o||!o.length,onClick:function(){return c({data:o,title:i})}}])}}))},k=function(){return(0,n.compose)((0,n.compose)((0,n.withProps)((function(e){var t,r=e.maximized,n=void 0===r?{}:r,o=e.widgetTools,i=void 0===o?[]:o,a=e.toolsOptions,c=void 0===a?{}:a,u=e.updateProperty,l=void 0===u?function(){}:u,p=e.dataGrid,f=void 0===p?{}:p;return{widgetTools:c.showPin?[].concat((t=i,function(e){if(Array.isArray(e))return s(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pushpin",bsStyle:f.static&&"primary",glyphClassName:f.static?"active":void 0,tooltipId:f.static?"widgets.widget.menu.unpin":"widgets.widget.menu.pin",target:"icons",visible:!n.widget,onClick:function(){return l("dataGrid.static",!f.static)}}]):i}}))),(0,n.compose)((0,n.withProps)((function(e){var t,r=e.maximized,n=void 0===r?{}:r,i=e.widgetTools,a=void 0===i?[]:i,c=e.dataGrid,u=void 0===c?{}:c,l=e.toggleCollapse,s=void 0===l?function(){}:l,p=e.toolsOptions;return{widgetTools:(void 0===p?{}:p).showCollapse?[].concat((t=a,function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"minus",target:"icons",tooltipId:"widgets.widget.menu.collapse",visible:!n.widget&&!u.static,onClick:function(){return s()}}]):a}}))),a,(0,n.compose)((0,n.withProps)((function(e){var t,r=e.widgetTools,n=void 0===r?[]:r,o=e.title,i=e.description,a=e.widgetType;return{widgetTools:i&&"text"!==a?[].concat((t=n,function(e){if(Array.isArray(e))return v(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"question-sign",popover:{title:o,trigger:!0,text:i,id:(0,b.slug)(o)},target:"icons"}]):n}}))))},T=function(){return(0,n.compose)((0,n.compose)((0,n.withPropsOnChange)(["topLeftItems","widgetTools"],(function(e){var t,r=e.topLeftItems,n=void 0===r?[]:r,o=e.widgetTools;return{topLeftItems:Z(o)?[].concat((t=n,function(e){if(Array.isArray(e))return E(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[f().createElement(d.Z,{btnGroupProps:{style:{position:"absolute",left:14}},btnDefaultProps:{className:"no-border",bsSize:"small",bsStyle:"link",style:{paddingLeft:4,paddingRight:4}},buttons:o.filter(D)})]):n}}))),(0,n.compose)((0,n.withPropsOnChange)(["icons","widgetTools"],(function(e){var t=e.icons,r=void 0===t?[]:t,n=e.widgetTools;return{icons:g(n)?f().createElement(d.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs",bsStyle:"link"},buttons:n.filter(y)}):r}}))),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,r=void 0===t?"widget-menu":t,o=e.menuIcon,i=void 0===o?"option-vertical":o;return(0,n.withProps)((function(e){var t=e.widgetTools,n=e.topRightItems,o=void 0===n?[]:n;return{topRightItems:S(t)?[].concat(w(o),[f().createElement(m.ButtonToolbar,null,f().createElement(m.DropdownButton,{pullRight:!0,bsStyle:"default",className:r,title:f().createElement(m.Glyphicon,{glyph:i}),noCaret:!0,id:"dropdown-no-caret"},t.filter(P).map((function(e,t){var r=e.onClick,n=void 0===r?function(){}:r,o=e.disabled,i=void 0!==o&&o,a=e.glyph,c=e.glyphClassName,u=e.text,l=e.textId,s=e.tooltipId,p=e.active;return f().createElement(A,{active:p,tooltipId:s,onSelect:n,disabled:i,eventKey:t},f().createElement(m.Glyphicon,{className:c,glyph:a}),l?f().createElement(h.Z,{msgId:l}):u)}))))]):o}}))}())}},670956:(e,t,r)=>{"use strict";r.d(t,{Z5:()=>b,r$:()=>v});var n=r(313311),o=r.n(n),i=r(227361),a=r.n(i),c=r(441609),u=r.n(c),l=r(354061),s=r.n(l),p=r(196958),f=r(47805);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e,t){return e&&e.id&&a()(o()(t.layers||[],{id:e.id}),"params",{})},v=function(e,t,r){var n=t&&r&&Object.keys(t).filter((function(e){return o()(r.propertyName,(function(t){return t===e}))})).reduce((function(e,r){return y(y({},e),{},g({},r,t[r]))}),{}),i=s()(n,(function(e,t,r){return(0,p.dJ)(y({attribute:r},t),e)}),{});if(!u()(e)||!u()(i)){var a=(0,f.composeAttributeFilters)([e,i],void 0,null==e?void 0:e.spatialFieldOperator);return y(y({},e),a)}return{}}},39589:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(418093),o=r(465633),i=r(273849),a=r(989255),c=r(624262);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.AggregationResults,r=void 0===t?[]:t,n=e.GroupByAttributes,o=void 0===n?[]:n,i=e.AggregationAttribute,a=e.AggregationFunctions;return r.map((function(e){return l(l({},o.reduce((function(t,r,n){return l(l({},t),{},s({},r,e[n]))}),{})),{},s({},"".concat(a[0],"(").concat(i,")"),e[e.length-1]))}))},f=function(e){return e.filter((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options;return r.name&&(0,c.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute})).distinctUntilChanged((function(e,t){var r=e.layer,n=void 0===r?{}:r,o=e.options,i=void 0===o?{}:o,a=e.filter;return t.layer&&n.name===t.layer.name&&n.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.aggregateFunction===t.aggregateFunction&&e.aggregationAttribute===t.aggregationAttribute&&e.viewParams===t.viewParams}(i,t.options)&&a===t.filter})).switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options,i=e.filter,u=e.onLoad,s=void 0===u?function(){}:u,f=e.onLoadError,d=void 0===f?function(){}:f;return(0,o.Z)((0,c.ZA)(r),l(l({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(e){return{loading:!1,isAnimationActive:!1,error:void 0,data:p(e),series:[{dataKey:"".concat(e.AggregationFunctions[0],"(").concat(e.AggregationAttribute,")")}]}})).do(s).catch((function(e){return a.Observable.of({loading:!1,error:e,data:[]}).do(d)})).startWith({loading:!0})}))};const d=(0,n.compose)((0,n.withProps)((function(){return{dataStreamFactory:f}})),i.Z)},980844:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(173014),o=r(342415),i=r(639837),a=r(247361),c=r(418093),u=r(227361),l=r.n(u),s=r(23195),p=r(667294),f=r.n(p),d=["value","uom"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var h=(0,n.Z)(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,r=void 0===t?"":t,n=e.uom,o=void 0===n?"":n,i=m(e,d);return f().createElement(s.iF,v({mode:"single",forceSingleModeWidth:!1,max:500,throttle:20},i),f().createElement(a.Z,{value:r}),f().createElement("span",{style:{fontSize:"75%"}},o))};const w=(0,c.compose)(h,o.Z,i.Z)((function(e){var t=e.series,r=void 0===t?[]:t,n=e.data,o=void 0===n?[]:n,i=e.options,a=void 0===i?{}:i,c=e.style,u=void 0===c?{width:"100%",height:"100%",transform:"translate(-50%, -50%)",position:"absolute",display:"inline",padding:"1%",top:"50%",left:"50%"}:c;return f().createElement("div",{className:"counter-widget-view"},r.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataKey,r=arguments.length>1?arguments[1]:void 0;return f().createElement(O,{key:t,uom:l()(a,"seriesOptions[".concat(r,"].uom")),value:o[0][t],style:g({textAlign:"center"},u)})})))}))},70919:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(667294),o=r.n(n),i=r(414293),a=r.n(i),c=r(513218),u=r.n(c),l=r(638064),s=r(757588),p=r(1036),f=r(262770);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=function(e){var t=e.layers,r=void 0===t?[]:t,n=e.onChange,i=void 0===n?function(){}:n,c=e.legendProps,y=void 0===c?{}:c,b=e.currentZoomLvl,v=e.disableOpacitySlider,m=void 0===v||v,h=e.disableVisibility,O=void 0===h||h,w=e.scales,j=e.language,P=e.currentLocale;return o().createElement(l.Z,{className:"compact-legend-grid",size:"sm",items:r.map((function(e){return{title:e.title&&u()(e.title)&&(e.title[P]||e.title.default)||e.title,preview:O?null:o().createElement(s.Glyphicon,{className:"text-primary",glyph:e.visibility?"eye-open":"eye-close"}),style:{opacity:e.visibility?1:.4},body:e.visibility?o().createElement("div",null,o().createElement(s.Grid,{fluid:!0},o().createElement(s.Row,null,o().createElement(s.Col,{xs:12,className:"ms-legend-container"},o().createElement(f.Z,d({node:g({},e),currentZoomLvl:b,scales:w,language:j},y))))),!m&&o().createElement("div",{className:"mapstore-slider",onClick:function(e){e.stopPropagation()}},o().createElement(p.Z,{disabled:!e.visibility,start:[a()(e.opacity)?100:Math.round(100*e.opacity)],range:{min:0,max:100},onChange:function(t){return i(e.id,"layers",{opacity:parseFloat((t[0]/100).toFixed(2))})}}))):null}}))})}},892936:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(418093),o=r(507848),i=r(91812),a=r(937981),c=r(57068),u=r(319180),l=r(469705),s=r(1979),p=r(461928),f=r(819983);const d=(0,n.compose)(l.Z,(0,i.Z)(0),o.Z,f.Z,u.Z,s.dY,s.yM,a.Z,c.e)(p.Z)},599707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(667294),o=r.n(n),i=r(757588),a=r(675263),c=r(805346);function u(e){var t=e.glyph,r=void 0===t?"info-sign":t,n=e.messageId,a=e.msgParams,u=void 0===a?{}:a;return o().createElement("div",{className:"ms-widget-empty-message"},o().createElement(i.Glyphicon,{glyph:r}),"  ",o().createElement(c.Z,{msgId:n,msgParams:u}))}u.propTypes={messageId:a.PropTypes.string,glyph:a.PropTypes.string};const l=u},465633:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(984596),o=r.n(n),i=r(199767),a=r(27835);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e){var t=e.featureType,r=e.aggregationAttribute,n=e.groupByAttributes,u=void 0===n?[]:n,l=e.aggregateFunction,s=e.viewParams,p=e.filter,f=void 0===p?"":p,d="<wfs:GetFeature ".concat(s?'viewParams="'.concat(s,'"'):"",' outputFormat="GML2" service="WFS" version="1.0.0">')+'<wfs:Query typeName="'.concat(t,'">').concat(f,"</wfs:Query></wfs:GetFeature>");return(0,a.Uh)("gs:Aggregate",[(0,i.qP)("features",(0,i.fA)("text/xml","http://geoserver/wfs","POST",d)),(0,i.qP)("aggregationAttribute",(0,i.XA)((0,i.gN)(r)))].concat(c(o()(l).map((function(e){return(0,i.qP)("function",(0,i.XA)((0,i.gN)(e)))}))),[(0,i.qP)("singlePass",(0,i.XA)((0,i.gN)("false")))],c(o()(u).map((function(e){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(e)))})))),(0,i.DK)((0,i.En)("result","application/json")))};const s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.mG)(e,l(t),{},r)}},12226:(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var n=r(562651);function o(e,t){return(0,n.U)(e)(t)}},212993:()=>{},178699:()=>{},601386:()=>{}}]);