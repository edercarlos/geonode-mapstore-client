(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[34953],{95797:(e,r,t)=>{"use strict";t.d(r,{DR:()=>n,S0:()=>u,u7:()=>o,lj:()=>i,yz:()=>a,lN:()=>c,zW:()=>f,Yx:()=>l,VN:()=>s,Hu:()=>y,VT:()=>p,RD:()=>g,Qq:()=>d,R1:()=>O,_T:()=>b,vO:()=>m,XO:()=>v,jG:()=>j,Xc:()=>E,gT:()=>P,rG:()=>h,t3:()=>w,Fs:()=>q,w_:()=>R,Lm:()=>_,rh:()=>L,rP:()=>F,IO:()=>D}),t(375875);var n="LAYER_SELECTED_FOR_SEARCH",u="FEATURE_TYPE_SELECTED",o="FEATURE_TYPE_LOADED",i="FEATURE_LOADED",a="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",f="FEATURE_ERROR",l="QUERY_CREATE",s="QUERY:UPDATE_QUERY",y="QUERY_RESULT",p="QUERY_ERROR",g="RESET_QUERY",d="QUERY",O="INIT_QUERY_PANEL",b="QUERY:TOGGLE_SYNC_WMS",m="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:b}}function j(){return{type:m}}function E(){return{type:O}}function P(e,r){return{type:u,url:e,typeName:r}}function h(e,r){return{type:o,typeName:e,featureType:r}}function w(e,r){return{type:c,typeName:e,error:r}}function q(e){return{type:a,isLoading:e}}function R(e,r,t,n,u){return{type:y,searchUrl:r,filterObj:t,result:e,queryOptions:n,reason:u}}function _(e){return{type:p,error:e}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.updates,t=e.reason,n=e.useLayerFilter;return{type:s,updates:r,reason:t,useLayerFilter:n}}function F(e,r){return{type:l,searchUrl:e,filterObj:r}}function D(e,r,t,n){return{type:d,searchUrl:e,filterObj:r,queryOptions:t,reason:n}}},647310:(e,r,t)=>{"use strict";t.d(r,{Z:()=>f});var n=t(375875),u=t.n(n),o=t(608575),i=t(727418),a=t.n(i),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const f={geocode:function(e,r){var t=a()({q:e},c,r||{}),n=o.format({protocol:"https",host:"nominatim.openstreetmap.org",query:t});return u().get(n)},reverseGeocode:function(e,r){var t=a()({lat:e.lat,lon:e.lng},r||{},c),n=o.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:t});return u().get(n)}}},352595:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});const n=(0,t(461365).Z)(t(757588).Overlay)},399534:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var n=t(461365),u=t(569334);const o=(0,n.Z)(u.h_)},731255:(e,r,t)=>{"use strict";t.d(r,{u$:()=>P,_w:()=>h,eO:()=>w,kG:()=>q,P3:()=>R,bq:()=>F,LB:()=>D,b4:()=>T,M0:()=>S,Li:()=>U,Rd:()=>A,g5:()=>k,Sj:()=>Y,o:()=>G,eK:()=>x,jY:()=>N,ND:()=>z,OK:()=>C,tU:()=>I,ou:()=>Q,DK:()=>M,Gl:()=>V,uz:()=>K,Ci:()=>Z,Ae:()=>W,gz:()=>H,He:()=>B,P4:()=>X,kd:()=>$,TC:()=>J,nq:()=>ee,Vf:()=>re,lg:()=>te});var n=t(91175),u=t.n(n),o=t(227361),i=t.n(o),a=t(513218),c=t.n(a),f=t(675110),l=t(378889),s=t(308316),y=t(552259),p=t(196958),g=t(285148),d=t(274621),O=t(93152),b=t(824260);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){j(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function j(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var E=f.CA,P=function(e){return i()(e,"featuregrid.selectedLayer")},h=function(e){return e&&e.featuregrid&&e.featuregrid.select},w=function(e){return e&&e.featuregrid&&e.featuregrid.changes},q=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},R=function(e){return u()(h(e))},_=function(e){var r=(0,b.Qs)(e);if(r){var t=(0,l.findGeometryProperty)(r);return t&&t.localType}return null},L=["Geometry","GeometryCollection"],F=function(e){return!u()(L.filter((function(r){return _(e)===r})))},D=function(e){return w(e)&&w(e).length>0},T=function(e){return q(e)&&q(e).length>0},S=function(e){return e&&e.featuregrid&&e.featuregrid.filters},U=function(e){return E(e,P(e))},A=function(e){return e&&e.featuregrid&&e.featuregrid.open},k=function(e,r){return i()(S(e),r)},Y=function(e){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(E(e,P(e)));return c()(r)?r[(0,s.Pz)(e)]||r.default||"":r},G=function(e){return((0,b.L)(e)||[]).map((function(r){var t=function(e,r){return i()(e,"featuregrid.attributes[".concat(r.name||r.attribute,"]"))}(e,r);return t?v(v({},r),t):r}))},x=function(e){return e&&e.featuregrid&&e.featuregrid.mode},N=function(e){return(h(e)||[]).length},z=function(e){return(0,p.rK)(w(e))},C=function(e){return function(e){var r=R(e);if(r){var t=(0,p.rK)(w(e));return!((!t[r.id]||null===t[r.id].geometry)&&(t[r.id]&&null===t[r.id].geometry||r._new&&u()(q(e))&&null===u()(q(e)).geometry||(!r._new||!u()(q(e))||null===u()(q(e)).geometry)&&null===r.geometry))}return!1}(e)},I=function(e){return i()(e,"featuregrid.showAgain",!1)},Q=function(e){if(i()(e,"featuregrid.showTimeSync",!1)){var r=P(e);return(0,g.jo)({id:r},"time")(e)}return null},M=function(e){return i()(e,"featuregrid.timeSync",!1)},V=function(e){return i()(e,"featuregrid.showPopoverSync",!0)},K=function(e){return e&&e.featuregrid&&e.featuregrid.saving},Z=function(e){return e&&e.featuregrid&&e.featuregrid.saved},W=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},H=function(e){return i()(e,"featuregrid.multiselect",!1)},B=function(e){return(0,y.isSimpleGeomType)(_(e))},X=function(e){return e.featuregrid&&e.featuregrid.dockSize},$=function(e){var r=E(e,P(e));return r&&r.name||""},J=function(e){var r=function(e){return i()(E(e,P(e)),"params")}(e);return{viewParams:r&&(r.VIEWPARAMS||r.viewParams||r.viewparams),cqlFilter:r&&(r.CQL_FILTER||r.cqlFilter||r.cql_filter)}},ee=function(e){var r=(0,d.L3)(e),t=function(e){return i()(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],n=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==t.indexOf(r)||n)&&!(0,O.c0)(e)},re=function(e){return i()(e,"featuregrid.pagination")},te=function(e){return i()(e,"featuregrid.useLayerFilter",!0)}},55105:(e,r,t)=>{"use strict";t.d(r,{Nr:()=>s,ic:()=>y,Jz:()=>g,VM:()=>d,CF:()=>O});var n=t(91175),u=t.n(n),o=t(800827),i=t(552259);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){f(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var l=function(e){return e.maplayout&&e.maplayout.layout||{}},s=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},y=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=l(e);return t&&Object.keys(t).filter((function(e){return r[e]})).reduce((function(e,r){return c(c({},e),{},f({},r,t[r]))}),{})||{}},p=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=l(e),n=!!u()(r.filter((function(e){return t[e.key]})).map((function(e){return"not"===e.type?t[e.key]!==e.value&&t[e.key]:t[e.key]===e.value})));return n},g=function(e){return p(e,[{key:"right",value:658}])},d=function(e){return p(e,[{key:"bottom",value:30,type:"not"}])},O=function(e){var r=(0,o.Od)(e),t=s(e);return t&&r&&r.size&&{left:(0,i.parseLayoutValue)(t.left,r.size.width),bottom:(0,i.parseLayoutValue)(t.bottom,r.size.height),right:(0,i.parseLayoutValue)(t.right,r.size.width),top:(0,i.parseLayoutValue)(t.top,r.size.height)}}},824260:(e,r,t)=>{"use strict";t.d(r,{qj:()=>m,Bu:()=>v,UM:()=>j,X1:()=>E,L:()=>P,HY:()=>h,Mz:()=>w,F0:()=>q,dc:()=>R,b0:()=>_,hk:()=>L,Qs:()=>F,gy:()=>D,M7:()=>T,VD:()=>S});var n=t(414293),u=t.n(n),o=t(227361),i=t.n(o),a=t(91175),c=t.n(a),f=t(701469),l=t.n(f),s=t(630998),y=t.n(s);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var O=function(e){return i()(e,"query.filterObj.featureTypeName")},b=function(e){return function(r){return i()(r,'query.featureTypes["'.concat(e,'"]'))}},m=function(e,r){return i()(b(r)(e),"original")},v=function(e){return e&&e.query&&e.query.searchUrl},j=function(e){return e&&e.query&&e.query.url},E=function(e){return e&&e.query&&e.query.filterObj},P=function(e){return i()(b(O(e))(e),"attributes")},h=function(e){return i()(e,"query.typeName")},w=function(e){return i()(e,"query.result.features")},q=function(e){var r=i()(e,"query.result");return g(g({},r),{},{features:(r&&r.features||[]).filter((function(e){return!u()(e.geometry)}))})},R=function(e,r){var t=e&&e.query&&e.query.result&&e.query.result.features;return c()(t.filter((function(e){return e.id===r})))},_={startIndex:function(e){return i()(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return i()(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return i()(e,"query.result.features.length")},totalFeatures:function(e){return i()(e,"query.result.totalFeatures")}},L=function(e,r){var t=b(r)(e);return!!(t&&t.attributes&&t.geometry&&t.original)},F=function(e){return m(e,O(e))},D=function(e){return i()(e,"query.featureLoading")},T=function(e){return i()(e,"query.syncWmsFilter",!1)},S=function(e){var r=i()(e,"query.filterObj.crossLayerFilter"),t=i()(e,"query.filterObj.spatialField"),n=i()(e,"query.filterObj.filterFields");return!!(n&&c()(n)||t&&(t.method&&t.operation&&t.geometry||l()(t)&&y()(t,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||r&&r.collectGeometries&&r.operation)}},469842:(e,r,t)=>{"use strict";t.d(r,{qh:()=>p,GK:()=>g,Nl:()=>d,vE:()=>O,gC:()=>b,hI:()=>m,Vc:()=>v,BU:()=>j,Vx:()=>E,a8:()=>P,IM:()=>h,G$:()=>w});var n=t(227361),u=t.n(n),o=t(22222),i=t(675110),a=t(308316),c=t(86638),f=["title"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var p=function(e){return u()(e,"queryform.crossLayerFilter")},g=function(e){return((0,i.l2)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.type,t=e.group;return"wms"===r&&"background"!==t})).map((function(r){var t=r.title;return s(s({},function(e,r){if(null==e)return{};var t,n,u=function(e,r){if(null==e)return{};var t,n,u={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(u[t]=e[t]);return u}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(u[t]=e[t])}return u}(r,f)),{},{title:(0,c.MZ)((0,a.Pz)(e),t)})}))},d=function(e){return u()(e,"queryform.spatialField.geometry")},O=function(e){return u()(e,"queryform.spatialField")},b=(0,o.P1)((function(e){return u()(e,"queryform.attributePanelExpanded")}),(function(e){return u()(e,"queryform.spatialPanelExpanded")}),(function(e){return u()(e,"queryform.crossLayerExpanded")}),(function(e,r,t){return{attributePanelExpanded:e,spatialPanelExpanded:r,crossLayerExpanded:t}})),m=function(e){return u()(e,"layerFilter.persisted")},v=function(e){return u()(e,"layerFilter.applied")},j=function(e){return u()(e,"queryform.spatialField.method")},E=function(e){return u()(e,"queryform.maxFeaturesWPS")},P=function(e){return d(e)&&d(e).type||"Polygon"},h=function(e){return d(e)&&d(e).projection||"EPSG =4326"},w=function(e){return d(e)&&d(e).coordinates||[]}}}]);